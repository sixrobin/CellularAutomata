#pragma kernel CSMain

struct Cube
{
    float3 Position;
    float3 Color;
};

RWTexture2D<float4> Result;
RWStructuredBuffer<Cube> _Cubes;
float _Resolution;

[numthreads(8,8,1)]
void CSMain(uint3 id : SV_DispatchThreadID)
{
    _Cubes[id.x + id.y * _Resolution].Position = float3(id.xy, 0);
    _Cubes[id.x + id.y * _Resolution].Color = float3(id.xy / _Resolution, 0);
}
